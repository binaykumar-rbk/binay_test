<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" data-whc_version="27.1">
    <head><link rel="shortcut icon" href="../favicon.ico"/><link rel="icon" href="../favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="DC.rights.owner" content="(C) Copyright 2025"/><meta name="copyright" content="(C) Copyright 2025"/><meta name="generator" content="DITA-OT"/><meta name="DC.type" content="reference"/><meta name="description" content="Setting up User Defined Routing in the Azure firewall requires adding certain rules regarding the service tag and FQDN network."/><meta name="DC.relation" content="../saas/azr_udr_config.html"/><meta name="DC.relation" content="../saas/azr_configuring_udr_fw.html"/><meta name="DC.relation" content="../saas/azr_ip_planning_aks_cluster.html"/><meta name="DC.relation" content="azr_configuring_udr_fw.html"/><meta name="DC.relation" content="../azure_blob/azr_blb_strg_retrieving_fqdn_url_windows.html"/><meta name="DC.relation" content="../azure_blob/azr_blb_strg_retrieving_fqdn_url_maclinx.html"/><meta name="DC.relation" content="azr_excom_firewall_config.html"/><meta name="DC.relation" content="https://learn.microsoft.com/en-us/azure/container-registry/container-registry-firewall-access-rules#allow-access-by-ip-address-range."/><meta name="DC.relation" content="azr_private_service_endpoints_usage_archival.html"/><meta name="DC.relation" content="https://learn.microsoft.com/en-gb/azure/aks/limit-egress-traffic?tabs=aks-with-system-assigned-identities"/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="azr_req_fw_network_rules_udr"/>        
      <title>Required firewall network rules for UDR</title><!--  Generated with Oxygen version 27.1, build number 2025041503.  --><meta name="wh-path2root" content="../"/><meta name="wh-toc-id" content="azr_req_fw_network_rules_udr-d23139e15608"/><meta name="wh-source-relpath" content="saas/azr_req_fw_network_rules_udr.dita"/><meta name="wh-out-relpath" content="saas/azr_req_fw_network_rules_udr.html"/>

    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/commons.css?buildId=2025041503"/>
    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic.css?buildId=2025041503"/>

    <script src="../oxygen-webhelp/app/options/properties.js?buildId=20251123144818"></script>
    <script src="../oxygen-webhelp/app/localization/strings.js?buildId=2025041503"></script>
    <script src="../oxygen-webhelp/app/search/index/keywords.js?buildId=20251123144818"></script>
    <script defer="defer" src="../oxygen-webhelp/app/commons.js?buildId=2025041503"></script>
    <script defer="defer" src="../oxygen-webhelp/app/topic.js?buildId=2025041503"></script>
<link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/oxygen.css?buildId=2025041503"/><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/html-tiles-style-en_min.css?buildId=2025041503"/>
    <script>
    window.addEventListener("load", myInit, true); function myInit(){  addTargetBlank() };
    </script>
        
    <script>
    function addTargetBlank() {
    const links = document.querySelectorAll('.open-in-tab');
    links.forEach(link =&gt; {
    link.setAttribute('target', '_blank');
    });
    }
    </script>
    
    <!-- OneTrust Cookies Consent Notice start for docs.rubrik.com -->
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="48df0b20-13be-42ae-a47f-8fda7fae9dc7"></script>
        <script type="text/javascript">
            function OptanonWrapper() {
            }</script>
        <!-- OneTrust Cookies Consent Notice end for docs.rubrik.com -->
</head>

    <body id="azr_req_fw_network_rules_udr" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="visually-hidden visually-hidden-focusable">
            Jump to main content
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid navbar-expand-md">
        <div class="wh_header_flex_container navbar-nav navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="../index.html" class=" wh_logo d-none d-sm-block "><img src="../oxygen-webhelp/template/resources/images/rubrik_logo.png" alt="Rubrik Security Cloud"/></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="title">Rubrik Security Cloud</span></a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                <title>toggle</title>
        <div style="display: flex; justify-content: right; margin: 10px 0 0 0">
            <label class="switch">
                <input name="theme" type="checkbox" onclick="toggleTheme()" checked="checked"/>
                <span title="Switch theme" class="eye"></span>
            </label>
        </div>
        <script>
            // function to set a given theme/color-scheme
            function setTheme(themeName) {
                localStorage.setItem('theme', themeName);
                document.documentElement.className = themeName;
            }
            
            // function to toggle between light and dark theme
            function toggleTheme() {
                if (localStorage.getItem('theme') === 'theme-dark') {
                    setTheme('theme-light');
                } else {
                    setTheme('theme-dark');
                }
            }
            
            // Immediately invoked function to set the theme on initial load
            (function () {
                if (localStorage.getItem('theme') === 'theme-light') {
                    setTheme('theme-light');
                } else {
                    setTheme('theme-dark');
                }
            })();</script>
    
            </div>
        </div>
    </div>
</header>
        
        
         
        
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required"/><button type="submit" class="wh_search_button" aria-label="Search"><span class="search_input_text">Search</span></button></div></form>
            
            
            
        </div>
        
        <div class="container-fluid navbar-expand-md" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="../index.html"><span>Home</span></a></span></li><li><div class="topicref"><div class="title"><a href="../rubrik/supported_workloads.html">Workloads</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">Rubrik Security Cloud - Data Protection</span> securely manages and protects data from a
                wide variety of workload types.</p></div></div></div></li><li><div class="topicref"><div class="title"><a href="../saas/aws_workloads.html">Cloud Workloads</a></div></div></li><li><div class="topicref" data-id="azr_workloads"><div class="title"><a href="../saas/azr_workloads.html">Microsoft Azure workloads</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph"><span class="ph">RSC</span> protects the data and resources of Azure             virtual machines, Azure managed disks, Azure Blob Storage, and Azure SQL workloads in             Azure subscriptions.</span></p></div></div></div></li><li><div class="topicref" data-id="azr_exocompute"><div class="title"><a href="../saas/azr_exocompute.html">Set up Exocompute on Azure</a><div class="wh-tooltip"><p class="shortdesc">With the Exocompute on Azure feature, <span class="ph">RSC</span> launches an Azure         Kubernetes Service cluster to perform various operations to protect Azure workloads. <span class="ph">RSC</span> uses the Azure Kubernetes Service cluster to serve as a compute resource         in your Azure subscription.</p></div></div></div></li><li><div class="topicref" data-id="azr_exocompute_network_setup"><div class="title"><a href="../saas/azr_exocompute_network_setup.html">Set up network for Exocompute on Azure</a><div class="wh-tooltip"><p class="shortdesc">To ensure proper functioning of the Exocompute on Azure feature that uses the Azure         Kubernetes Service (AKS) cluster, it is essential to meet specific network prerequisites for         seamless communication among <span class="ph">RSC</span>, the AKS cluster, and Azure         services.</p></div></div></div></li><li><div class="topicref" data-id="azr_stnd_load_balancer_settings"><div class="title"><a href="../saas/azr_stnd_load_balancer_settings.html">Azure standard load balancer settings</a><div class="wh-tooltip"><p class="shortdesc">Exocompute on Azure uses a standard load balancer with a public IP address to manage         network traffic for Azure Kubernetes Service clusters. However, Azure policies that prevent         the creation of public IPs can cause these deployments to fail. To prevent this, you can         provide policy exemptions or configure User Defined Routing.</p></div></div></div></li><li><div class="topicref" data-id="azr_udr_config"><div class="title"><a href="../saas/azr_udr_config.html">Azure User Defined Routing configuration</a><div class="wh-tooltip"><p class="shortdesc">To manage outbound traffic for an Azure Kubernetes Service cluster without using         public IP addresses, you can configure User Defined Routes in your Azure VNet used for         Exocompute.</p></div></div></div></li><li class="active"><div class="topicref" data-id="azr_req_fw_network_rules_udr"><div class="title"><a href="../saas/azr_req_fw_network_rules_udr.html">Required firewall network rules for UDR</a><div class="wh-tooltip"><p class="shortdesc">Setting up User Defined Routing in the Azure firewall requires adding certain rules         regarding the service tag and FQDN network.</p></div></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        <div class=" wh_navigation_links "><span id="topic_navigation_links" class="navheader">
  
<span class="navprev"><a class="- topic/link link" href="../saas/azr_configuring_udr_fw.html" title="Configuring User Defined Routing with Azure firewall" aria-label="Previous topic: Configuring User Defined Routing with Azure firewall" rel="prev"></a></span>  
<span class="navnext"><a class="- topic/link link" href="../saas/azr_ip_planning_aks_cluster.html" title="IP address planning for Exocompute on Azure" aria-label="Next topic: IP address planning for Exocompute on Azure" rel="next"></a></span>  </span></div>
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
	                            <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
		                            <span class="close-toc-icon-container">
		                                <span class="close-toc-icon"></span>     
		                            </span>
		                        </button>
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e858" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e858-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/common/getting_started_with_rsc.html" id="tocId-d23139e858-link">Getting started with RSC</a><div class="wh-tooltip"><p class="shortdesc">Your guided first steps for initial RSC service configuration, network
                prerequisites, and setting up the primary account and access.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e1432" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e1432-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/common/rubrik_clusters_2.html" id="tocId-d23139e1432-link">Rubrik clusters</a><div class="wh-tooltip"><p class="shortdesc">Manage the on-premises infrastructure: Rubrik cluster registration, CDM
                software upgrades, and hardware configuration details.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e3520" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e3520-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/sla_domains.html" id="tocId-d23139e3520-link">Protection Policies</a><div class="wh-tooltip"><p class="shortdesc">Centralize the definition of SLA Domains, data retention guarantees,
                Archiving, Replication, and Rubrik Cloud Vault (RCV) policies.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e7432" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e7432-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/users_access.html" id="tocId-d23139e7432-link">Security</a><div class="wh-tooltip"><p class="shortdesc">Configure user access, authentication (SSO), and platform hardening policies,
                including RBAC and Encryption management.</p></div></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="tocId-d23139e10356" class="topicref" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action tocId-d23139e10356-link" class="wh-expand-btn"></span><div class="title"><a href="../rubrik/supported_workloads.html" id="tocId-d23139e10356-link">Workloads</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">Rubrik Security Cloud - Data Protection</span> securely manages and protects data from a
                wide variety of workload types.</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="supported_workloads-d23139e10364" class="topicref" data-id="supported_workloads" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../rubrik/supported_workloads.html" id="supported_workloads-d23139e10364-link"><span class="ph">Rubrik Security Cloud</span> workloads</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">RSC</span> securely manages and protects data from a wide variety of         workload types.</p></div></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="tocId-d23139e10379" class="topicref" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action tocId-d23139e10379-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/aws_workloads.html" id="tocId-d23139e10379-link">Cloud Workloads</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="aws_workloads-d23139e10380" class="topicref" data-id="aws_workloads" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action aws_workloads-d23139e10380-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/aws_workloads.html" id="aws_workloads-d23139e10380-link">Amazon Web Services workloads</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">RSC</span> protects the following types of Amazon Web Services workloads:         EC2 instances, EBS volumes, Amazon S3, <span class="ph">Amazon RDS and Aurora databases,             and Amazon DynamoDB</span>.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="gcp-d23139e13457" class="topicref" data-id="gcp" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action gcp-d23139e13457-link" class="wh-expand-btn"></span><div class="title"><a href="../gcp/gcp.html" id="gcp-d23139e13457-link">Google Cloud Platform workloads</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">RSC</span> protects the following types of Google Cloud Platform workloads:         Google Compute Engine instances and persistent disks.</p></div></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="azr_workloads-d23139e14639" class="topicref" data-id="azr_workloads" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action azr_workloads-d23139e14639-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_workloads.html" id="azr_workloads-d23139e14639-link">Microsoft Azure workloads</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph"><span class="ph">RSC</span> protects the data and resources of Azure             virtual machines, Azure managed disks, Azure Blob Storage, and Azure SQL workloads in             Azure subscriptions.</span></p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e14653" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e14653-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_key_features_protection.html" id="tocId-d23139e14653-link">Introduction to Azure protection</a></div></div></li><li role="treeitem"><div data-tocid="azr_protect_implementation-d23139e14748" class="topicref" data-id="azr_protect_implementation" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_protect_implementation.html" id="azr_protect_implementation-d23139e14748-link">Azure protection implementation workflow</a><div class="wh-tooltip"><p class="shortdesc">The Azure protection implementation workflow involves a structured approach to secure         data management, starting with planning and preparation, followed by cloud account setup,         infrastructure configuration, workload protection, continuous management and optimization,         and workload recovery.</p></div></div></div></li><li role="treeitem"><div data-tocid="azr_quick_links-d23139e14759" class="topicref" data-id="azr_quick_links" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_quick_links.html" id="azr_quick_links-d23139e14759-link">Quick links for Azure workloads</a><div class="wh-tooltip"><p class="shortdesc">Immediate access to important tasks and information, enabling quick setup, daily         operations, and critical recovery.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_protection_planning-d23139e14770" class="topicref" data-id="azr_protection_planning" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_protection_planning-d23139e14770-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_protection_planning.html" id="azr_protection_planning-d23139e14770-link">Plan your Azure protection</a><div class="wh-tooltip"><p class="shortdesc">Before setting up an Azure cloud account in <span class="ph">RSC</span>, you are required to         plan the user and access management for designated <span class="ph">RSC</span> users. This planning         also involves reviewing the permissions that <span class="ph">RSC</span> requires in your Azure         environment to protect your Azure workloads.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_cloud_acc_setup-d23139e14971" class="topicref" data-id="azr_cloud_acc_setup" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_cloud_acc_setup-d23139e14971-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_cloud_acc_setup.html" id="azr_cloud_acc_setup-d23139e14971-link">Set up Azure cloud accounts</a><div class="wh-tooltip"><p class="shortdesc">You can set up an Azure cloud account in <span class="ph">RSC</span> to start protecting         Azure workloads.</p></div></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="azr_exocompute-d23139e15430" class="topicref" data-id="azr_exocompute" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action azr_exocompute-d23139e15430-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_exocompute.html" id="azr_exocompute-d23139e15430-link">Set up Exocompute on Azure</a><div class="wh-tooltip"><p class="shortdesc">With the Exocompute on Azure feature, <span class="ph">RSC</span> launches an Azure         Kubernetes Service cluster to perform various operations to protect Azure workloads. <span class="ph">RSC</span> uses the Azure Kubernetes Service cluster to serve as a compute resource         in your Azure subscription.</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e15447" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e15447-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_pvt_aks_clusters.html" id="tocId-d23139e15447-link">Introduction to Exocompute on Azure</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_exocompute_evaluate_choices-d23139e15481" class="topicref" data-id="azr_exocompute_evaluate_choices" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_exocompute_evaluate_choices-d23139e15481-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_exocompute_evaluate_choices.html" id="azr_exocompute_evaluate_choices-d23139e15481-link">Evaluate Exocompute on Azure options</a><div class="wh-tooltip"><p class="shortdesc">When setting up Exocompute on Azure, it is important to evaluate the options for         deployment and networking. Thorough evaluation of these choices helps to align them with the         needs of your organization prior to Exocompute configuration.</p></div></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="azr_exocompute_network_setup-d23139e15539" class="topicref" data-id="azr_exocompute_network_setup" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action azr_exocompute_network_setup-d23139e15539-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_exocompute_network_setup.html" id="azr_exocompute_network_setup-d23139e15539-link">Set up network for Exocompute on Azure</a><div class="wh-tooltip"><p class="shortdesc">To ensure proper functioning of the Exocompute on Azure feature that uses the Azure         Kubernetes Service (AKS) cluster, it is essential to meet specific network prerequisites for         seamless communication among <span class="ph">RSC</span>, the AKS cluster, and Azure         services.</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="true"><div data-tocid="azr_stnd_load_balancer_settings-d23139e15553" class="topicref" data-id="azr_stnd_load_balancer_settings" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action azr_stnd_load_balancer_settings-d23139e15553-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_stnd_load_balancer_settings.html" id="azr_stnd_load_balancer_settings-d23139e15553-link">Azure standard load balancer settings</a><div class="wh-tooltip"><p class="shortdesc">Exocompute on Azure uses a standard load balancer with a public IP address to manage         network traffic for Azure Kubernetes Service clusters. However, Azure policies that prevent         the creation of public IPs can cause these deployments to fail. To prevent this, you can         provide policy exemptions or configure User Defined Routing.</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="azr_pol_review_exempt-d23139e15564" class="topicref" data-id="azr_pol_review_exempt" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_pol_review_exempt-d23139e15564-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_pol_review_exempt.html" id="azr_pol_review_exempt-d23139e15564-link">Azure policies review and exemptions</a><div class="wh-tooltip"><p class="shortdesc">You can review Azure policy assignments to identify rules blocking public IP address     creation and provide exemptions for the Azure Kubernetes Service (AKS) node resource group to     ensure successful AKS cluster deployment.</p></div></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="azr_udr_config-d23139e15586" class="topicref" data-id="azr_udr_config" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action azr_udr_config-d23139e15586-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_udr_config.html" id="azr_udr_config-d23139e15586-link">Azure User Defined Routing configuration</a><div class="wh-tooltip"><p class="shortdesc">To manage outbound traffic for an Azure Kubernetes Service cluster without using         public IP addresses, you can configure User Defined Routes in your Azure VNet used for         Exocompute.</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="azr_configuring_udr_fw-d23139e15597" class="topicref" data-id="azr_configuring_udr_fw" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_configuring_udr_fw.html" id="azr_configuring_udr_fw-d23139e15597-link">Configuring User Defined Routing with Azure firewall</a><div class="wh-tooltip"><p class="shortdesc">Configure User Defined Routing for Azure Kubernetes Service clusters to manage         outbound traffic through an Azure firewall. This setup ensures compliance with Azure         policies by routing traffic through defined routes, eliminating the need for public IP         addresses for AKS nodes.</p></div></div></div></li><li role="treeitem" class="active"><div data-tocid="azr_req_fw_network_rules_udr-d23139e15608" class="topicref" data-id="azr_req_fw_network_rules_udr" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_req_fw_network_rules_udr.html" id="azr_req_fw_network_rules_udr-d23139e15608-link">Required firewall network rules for UDR</a><div class="wh-tooltip"><p class="shortdesc">Setting up User Defined Routing in the Azure firewall requires adding certain rules         regarding the service tag and FQDN network.</p></div></div></div></li></ul></li></ul></li><li role="treeitem"><div data-tocid="azr_ip_planning_aks_cluster-d23139e15619" class="topicref" data-id="azr_ip_planning_aks_cluster" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_ip_planning_aks_cluster.html" id="azr_ip_planning_aks_cluster-d23139e15619-link">IP address planning for Exocompute on Azure</a><div class="wh-tooltip"><p class="shortdesc">For the Exocompute on Azure feature that uses Azure Kubernetes Service clusters as         the underlying compute resources, depending on your workloads, you need to plan the number         of IP addresses required for your cluster nodes and use a subnet size         accordingly.</p></div></div></div></li><li role="treeitem"><div data-tocid="azr_outbound_rules_nsg-d23139e15630" class="topicref" data-id="azr_outbound_rules_nsg" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_outbound_rules_nsg.html" id="azr_outbound_rules_nsg-d23139e15630-link">Outbound rules for Azure network security group</a><div class="wh-tooltip"><p class="shortdesc">Information about the minimal set of outbound rules for Azure virtual machines and         Azure SQL workloads that require configuration on the network security group associated with         the subnet used for the Exocompute on Azure feature.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_blob_outbound_rules_nsg-d23139e15641" class="topicref" data-id="azr_blob_outbound_rules_nsg" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_blob_outbound_rules_nsg-d23139e15641-link" class="wh-expand-btn"></span><div class="title"><a href="../azure_blob/azr_blob_outbound_rules_nsg.html" id="azr_blob_outbound_rules_nsg-d23139e15641-link">Outbound rules for network security group of Azure Blob Storage</a><div class="wh-tooltip"><p class="shortdesc">Information about the minimal set of outbound rules required to configure on the         network security group associated with the subnet used for the Azure Kubernetes Service         cluster associated with the Azure Blob Storage.</p></div></div></div></li><li role="treeitem"><div data-tocid="azr_nw_config_cni_overlay-d23139e15674" class="topicref" data-id="azr_nw_config_cni_overlay" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_nw_config_cni_overlay.html" id="azr_nw_config_cni_overlay-d23139e15674-link">Network configuration for Azure CNI overlay</a><div class="wh-tooltip"><p class="shortdesc">Information on configuring network settings, required ports, network rules, and         dynamic ports for Azure CNI overlay to ensure proper functionality of Exocompute on         Azure.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_excom_firewall_config-d23139e15685" class="topicref" data-id="azr_excom_firewall_config" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_excom_firewall_config-d23139e15685-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_excom_firewall_config.html" id="azr_excom_firewall_config-d23139e15685-link">Firewall configuration for Exocompute on Azure</a><div class="wh-tooltip"><p class="shortdesc">Information about the endpoints you can add to the firewall allowlist to enable         Exocompute on Azure to perform archiving and indexing operations.</p></div></div></div></li><li role="treeitem"><div data-tocid="azr_exocompute_quota_reqs-d23139e15718" class="topicref" data-id="azr_exocompute_quota_reqs" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_exocompute_quota_reqs.html" id="azr_exocompute_quota_reqs-d23139e15718-link">Exocompute on Azure vCPU quota requirements</a><div class="wh-tooltip"><p class="shortdesc">Azure vCPU quotas limit virtual CPU allocations for a subscription to manage         resources and prevent monopolization. Adequate quotas for Exocompute ensure uninterrupted         operations.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="prereq_immutable_azr_blob_backup-d23139e15729" class="topicref" data-id="prereq_immutable_azr_blob_backup" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action prereq_immutable_azr_blob_backup-d23139e15729-link" class="wh-expand-btn"></span><div class="title"><a href="../azure_blob/prereq_immutable_azr_blob_backup.html" id="prereq_immutable_azr_blob_backup-d23139e15729-link">Prerequisites for immutable Azure Blob Storage backups</a><div class="wh-tooltip"><p class="shortdesc">Information about specific prerequisites that you must meet to create and manage         immutable backups of Azure Blob Storage in <span class="ph">RSC</span>. These prerequisites are         based on the network access configuration of your Azure Blob Storage account.</p></div></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_configuration_exocompute-d23139e15765" class="topicref" data-id="azr_configuration_exocompute" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_configuration_exocompute-d23139e15765-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_configuration_exocompute.html" id="azr_configuration_exocompute-d23139e15765-link">Configure Exocompute on Azure</a><div class="wh-tooltip"><p class="shortdesc">The configuration workflow sequence for localized and centralized Exocompute,         Rubrik-hosted ACR, and Rubrik-managed AKS cluster.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_private_container_registry.dita-d23139e15809" class="topicref" data-id="azr_private_container_registry.dita" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_private_container_registry.dita-d23139e15809-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_private_container_registry.html" id="azr_private_container_registry.dita-d23139e15809-link">Private Container Registry for Azure</a><div class="wh-tooltip"><p class="shortdesc">For security purposes, when you do not want to retrieve Docker images from a registry         hosted by Rubrik or when you want to scan the Docker images for CVEs, you can configure a         Private Container Registry to retrieve these Docker images from a registry you         host.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_exocompute_health_check-d23139e15842" class="topicref" data-id="azr_exocompute_health_check" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_exocompute_health_check-d23139e15842-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_exocompute_health_check.html" id="azr_exocompute_health_check-d23139e15842-link">Exocompute health check for Azure</a><div class="wh-tooltip"><p class="shortdesc">The Exocompute health check for Azure feature in <span class="ph">RSC</span> runs a health         check for an Azure Kubernetes Service cluster immediately after its configuration and         displays the current status of the cluster. With the health check feature, you can determine         if the Azure Kubernetes Service cluster is functioning correctly.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_adv_exo_settings_aks_clusters-d23139e15878" class="topicref" data-id="azr_adv_exo_settings_aks_clusters" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_adv_exo_settings_aks_clusters-d23139e15878-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_adv_exo_settings_aks_clusters.html" id="azr_adv_exo_settings_aks_clusters-d23139e15878-link">Advanced settings for Exocompute on Azure</a><div class="wh-tooltip"><p class="shortdesc">For better performance, scalability, and advanced security features such as         encryption at the host where Azure encrypts data before it is written to storage disks, you         can optionally configure advanced Exocompute settings using <span class="ph">RSC</span>.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="viewing_exo_health_check_events-d23139e15903" class="topicref" data-id="viewing_exo_health_check_events" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action viewing_exo_health_check_events-d23139e15903-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/viewing_exo_health_check_events_3.html" id="viewing_exo_health_check_events-d23139e15903-link">Viewing Exocompute events</a><div class="wh-tooltip"><p class="shortdesc">View the Events page from the Dashboard to see the Exocompute events.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_viewing_exocompute_details_page-d23139e15925" class="topicref" data-id="azr_viewing_exocompute_details_page" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_viewing_exocompute_details_page-d23139e15925-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_viewing_exocompute_details_page.html" id="azr_viewing_exocompute_details_page-d23139e15925-link">Viewing the Exocompute on Azure details page</a><div class="wh-tooltip"><p class="shortdesc">View the details of an Exocompute on Azure instance. Based on the information, you         can run a health check, add or delete regions, or deactivate and delete an Exocompute host         subscription, if required.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_maintenance_and_cleanup-d23139e15947" class="topicref" data-id="azr_maintenance_and_cleanup" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_maintenance_and_cleanup-d23139e15947-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_maintenance_and_cleanup.html" id="azr_maintenance_and_cleanup-d23139e15947-link">Maintain Exocompute on Azure</a><div class="wh-tooltip"><p class="shortdesc">Maintaining Exocompute on Azure involves regularly reviewing and updating settings         and removing obsolete configurations to ensure optimal performance and resource         management.</p></div></div></div></li><li role="treeitem"><div data-tocid="azr_resolving_common_exocompute_issues-d23139e16003" class="topicref" data-id="azr_resolving_common_exocompute_issues" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_resolving_common_exocompute_issues.html" id="azr_resolving_common_exocompute_issues-d23139e16003-link">Resolving common Azure Exocompute issues</a><div class="wh-tooltip"><p class="shortdesc">You can troubleshoot and resolve common Azure Exocompute issues that occurs while         setting up an Azure Kubernetes Service cluster. The AKS cluster not starting properly is a         common issue reported to Rubrik Support. Some reasons for this are described         below.</p></div></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_storage_tiering_setup-d23139e16014" class="topicref" data-id="azr_storage_tiering_setup" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_storage_tiering_setup-d23139e16014-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_storage_tiering_setup.html" id="azr_storage_tiering_setup-d23139e16014-link">Set up Azure storage tiering</a><div class="wh-tooltip"><p class="shortdesc">You can use Azure storage tiering to archive Azure virtual machine or managed disk         snapshots, which are older than a specified threshold, to Azure storage access tiers. By         archiving snapshots to these access tiers, you can optimize cost.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_workloads_protection_setup-d23139e16167" class="topicref" data-id="azr_workloads_protection_setup" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_workloads_protection_setup-d23139e16167-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_workloads_protection_setup.html" id="azr_workloads_protection_setup-d23139e16167-link">Set up Azure workloads protection</a><div class="wh-tooltip"><p class="shortdesc">You can set up SLA Domains to apply data protection policies, ensuring automatic and         hierarchical protection of Azure subscriptions, resource groups, and individual Azure         workloads, with granular control overriding higher-level assignments.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_manage_vm_md-d23139e16430" class="topicref" data-id="azr_manage_vm_md" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_manage_vm_md-d23139e16430-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_manage_vm_md.html" id="azr_manage_vm_md-d23139e16430-link">Manage Azure virtual machines</a><div class="wh-tooltip"><p class="shortdesc">After completing the protection setup for Azure virtual machines and managed disks,             <span class="ph">RSC</span> takes automated snapshots of those virtual machines and disks based         on the configured policies in SLA Domains. You can also take on-demand snapshots, refresh         Azure subscriptions, and add Azure custom tags for better resource management.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_manage_blob_storage-d23139e16851" class="topicref" data-id="azr_manage_blob_storage" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_manage_blob_storage-d23139e16851-link" class="wh-expand-btn"></span><div class="title"><a href="../azure_blob/azr_manage_blob_storage.html" id="azr_manage_blob_storage-d23139e16851-link">Manage Azure Blob Storage</a><div class="wh-tooltip"><p class="shortdesc">By using the protection services offered by <span class="ph">RSC</span>, you can protect and         recover your objects in Azure Blob Storage.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_sql_db_manage-d23139e16992" class="topicref" data-id="azr_sql_db_manage" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_sql_db_manage-d23139e16992-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_sql_db_manage.html" id="azr_sql_db_manage-d23139e16992-link">Manage Azure SQL Database</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">RSC</span> enhances Azure native backup capabilities for SQL Databases by         offering advanced, Rubrik-managed protection. This solution overcomes native limitations         with customizable SLA Domain policies, on-demand snapshots, and flexible cross-subscription         recovery, ensuring a consistent and automated approach to data security.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_sql_mi_manage-d23139e17269" class="topicref" data-id="azr_sql_mi_manage" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_sql_mi_manage-d23139e17269-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_sql_mi_manage.html" id="azr_sql_mi_manage-d23139e17269-link">Manage Azure SQL Managed Instance</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">RSC</span> enhances Azure native backup capabilities for SQL Managed         Instances by offering advanced, Rubrik-managed protection. This solution overcomes native         limitations with customizable SLA Domain policies, on-demand snapshots, and flexible         cross-subscription recovery, ensuring a consistent and automated approach to data         security.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="azr_workload_recovery-d23139e17602" class="topicref" data-id="azr_workload_recovery" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action azr_workload_recovery-d23139e17602-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/azr_workload_recovery.html" id="azr_workload_recovery-d23139e17602-link">Recover Azure workloads</a><div class="wh-tooltip"><p class="shortdesc">After <span class="ph">RSC</span> takes snapshots of your Azure workloads, you can recover         the required workloads.</p></div></div></div></li></ul></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e18100" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e18100-link" class="wh-expand-btn"></span><div class="title"><a href="../nutanix_ahv/ahv_virtual_machines.html" id="tocId-d23139e18100-link">Data Center Workloads</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="saas_workloads-d23139e21569" class="topicref" data-id="saas_workloads" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action saas_workloads-d23139e21569-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/saas_workloads.html" id="saas_workloads-d23139e21569-link">SaaS workloads</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">RSC</span> protection for SaaS workloads simplifies protecting and managing         backups for SaaS application instances.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e22450" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e22450-link" class="wh-expand-btn"></span><div class="title"><a href="../adds/ad_protection.html" id="tocId-d23139e22450-link">Identity Workloads</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e23595" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e23595-link" class="wh-expand-btn"></span><div class="title"><a href="../db2/ibm_db2.html" id="tocId-d23139e23595-link">Database Workloads</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="fs_filesystems-d23139e28428" class="topicref" data-id="fs_filesystems" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action fs_filesystems-d23139e28428-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/fs_filesystems.html" id="fs_filesystems-d23139e28428-link">File systems</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">RSC</span> provides management and protection of file system data on supported Linux,         Unix, and Windows hosts through filesets.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="k8s_workload_protection-d23139e29037" class="topicref" data-id="k8s_workload_protection" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action k8s_workload_protection-d23139e29037-link" class="wh-expand-btn"></span><div class="title"><a href="../kubernetes/k8s_workload_protection.html" id="k8s_workload_protection-d23139e29037-link">Kubernetes protection</a><div class="wh-tooltip"><p class="shortdesc">You can use Kubernetes protection to protect your on-premise or cloud-native         Kubernetes clusters using a protection set.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="mv_managed_volumes_sla_managed_volumes-d23139e30198" class="topicref" data-id="mv_managed_volumes_sla_managed_volumes" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action mv_managed_volumes_sla_managed_volumes-d23139e30198-link" class="wh-expand-btn"></span><div class="title"><a href="../managedvolumes/mv_managed_volumes_sla_managed_volumes.html" id="mv_managed_volumes_sla_managed_volumes-d23139e30198-link">Managed Volumes and SLA Managed Volumes</a><div class="wh-tooltip"><p class="shortdesc">Managed Volumes in <span class="ph">RSC</span> protect and manage data while SLA Managed         Volumes schedule and initiate backups using an SLA Domain.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="microsoft_dynamics_365-d23139e30635" class="topicref" data-id="microsoft_dynamics_365" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action microsoft_dynamics_365-d23139e30635-link" class="wh-expand-btn"></span><div class="title"><a href="../microsoft_dynamics_365/microsoft_dynamics_365.html" id="microsoft_dynamics_365-d23139e30635-link">Microsoft Dynamics 365</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">RSC</span> protects the tables and metadata in your Microsoft Dynamics 365         subscription.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="m365-d23139e31129" class="topicref" data-id="m365" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action m365-d23139e31129-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/m365.html" id="m365-d23139e31129-link">Microsoft 365</a><div class="wh-tooltip"><p class="shortdesc">Using the data management and protection services offered by <span class="ph">Rubrik Security Cloud</span>, you can protect Microsoft 365 data operations.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="m365_backup_storage-d23139e33168" class="topicref" data-id="m365_backup_storage" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action m365_backup_storage-d23139e33168-link" class="wh-expand-btn"></span><div class="title"><a href="../m365_backup_storage/m365_backup_storage.html" id="m365_backup_storage-d23139e33168-link">Microsoft 365 Backup Storage</a><div class="wh-tooltip"><p class="shortdesc">With the Microsoft 365 Backup Storage feature, you can back up Microsoft 365         applications such as SharePoint sites, OneDrive user accounts, and Exchange mailboxes. You         can also restore large volumes of data during ransomware attacks, accidental deletion, or         malicious data deletion and overwrite events.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="ms_exchange_server-d23139e33560" class="topicref" data-id="ms_exchange_server" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action ms_exchange_server-d23139e33560-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/ms_exchange_server.html" id="ms_exchange_server-d23139e33560-link">Microsoft Exchange Server</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">Rubrik Security Cloud</span> provides protection for Microsoft Exchange         Servers.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="ncd_data_sets-d23139e33773" class="topicref" data-id="ncd_data_sets" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action ncd_data_sets-d23139e33773-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/ncd_data_sets.html" id="ncd_data_sets-d23139e33773-link"><span class="ph">NAS CD</span> data sets</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">Rubrik NAS Cloud Direct</span> offers secure data protection with high-performance,         scalable enterprise backup, and archive services for unstructured file data.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="nas_systems-d23139e34187" class="topicref" data-id="nas_systems" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action nas_systems-d23139e34187-link" class="wh-expand-btn"></span><div class="title"><a href="../nas/nas_systems.html" id="nas_systems-d23139e34187-link">NAS systems</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">RSC</span> manages and protects NFS and SMB shares on NAS systems for     efficient data storage and retrieval.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="snapmirror_cloud-d23139e34545" class="topicref" data-id="snapmirror_cloud" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action snapmirror_cloud-d23139e34545-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/snapmirror_cloud.html" id="snapmirror_cloud-d23139e34545-link">SnapMirror Cloud</a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">RSC</span> protects user data replicated by the NetApp SnapMirror Cloud         service.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="windows_volume_groups-d23139e34646" class="topicref" data-id="windows_volume_groups" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action windows_volume_groups-d23139e34646-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/windows_volume_groups.html" id="windows_volume_groups-d23139e34646-link">Windows volume groups</a><div class="wh-tooltip"><p class="shortdesc">A volume group is a Rubrik workload comprised of at least one data storage volume on         a Windows host.</p></div></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e34840" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e34840-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/ri_ransomware_monitoring.html" id="tocId-d23139e34840-link">Cyber Resiliency</a><div class="wh-tooltip"><p class="shortdesc">Proactively detect, investigate, and govern data risk using Data Threat
                Analytics (DTA), Data Security Posture (DSP), and Identity Resilience. Includes
                guidance for preparing for automated Orchestrated Application Recovery
                (OAR).</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e38705" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e38705-link" class="wh-expand-btn"></span><div class="title"><a href="../saas-ai/ruby.html" id="tocId-d23139e38705-link">AI, Automation, Integrations and Tooling</a><div class="wh-tooltip"><p class="shortdesc">AI: Utilize conversational intelligence (Ruby and Annapurna). Automation:
                Access the GraphQL API Playground for programmatic scripting. Integrations:
                Configure connections to external systems, such as ServiceNow, Zscaler, and more.
                Tooling: Monitor consumption, manage entitlements, and view subscription tier limits
                (Licenses and usage).</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e39294" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e39294-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/common/events.html" id="tocId-d23139e39294-link">Monitoring, Reporting, and Alerting</a><div class="wh-tooltip"><p class="shortdesc">Monitoring/Alerting: Check real-time system health via dashboards, review
                live Events, and configure notification delivery (email, webhook, and more).
                Reporting: Generate compliance Reports, and review historical immutable logs for
                accountability.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e41006" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e41006-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/rsc_insights.html" id="tocId-d23139e41006-link">Troubleshooting</a><div class="wh-tooltip"><p class="shortdesc">Diagnostics guides, RSC insights, and solutions for operational issues.
                Includes network diagnostics, Support Tunnel procedures, and common error
                resolution.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e41093" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e41093-link" class="wh-expand-btn"></span><div class="title"><a href="../saas/rsc_settings_menu_2.html" id="tocId-d23139e41093-link"><span class="ph">Data Protection</span></a><div class="wh-tooltip"><p class="shortdesc"><span class="ph">Rubrik Security Cloud - Data Protection</span> provides the core tools and features for
                protecting, managing, and analyzing your data.</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e42601" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e42601-link" class="wh-expand-btn"></span><div class="title"><a href="https://docs.rubrik.com/en-us/latest/offrec/index.html" id="tocId-d23139e42601-link">Additional Resources</a><div class="wh-tooltip"><p class="shortdesc">Access Offline Recovery and Compatibility Matrix guides.
            </p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d23139e42622" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d23139e42622-link" class="wh-expand-btn"></span><div class="title"><a href="../reuse/notices.html" id="tocId-d23139e42622-link">Legal Notices and additional resources</a><div class="wh-tooltip"><p class="shortdesc">Rubrik legal notices for this documentation, and topics with additional
                resources and information.</p></div></div></div></li><li role="treeitem"><div data-tocid="comments_suggestions-d23139e42637" class="topicref" data-id="comments_suggestions" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../reuse/comments_suggestions.html" id="comments_suggestions-d23139e42637-link">Comments and suggestions</a><div class="wh-tooltip"><p class="shortdesc">We welcome your comments and suggestions about our products and our product         documentation.</p></div></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-9 col-md-9 col-sm-12" id="wh_topic_body">
                        
                        <div class=" wh_topic_content body "><main role="main"><article class="- topic/topic       reference/reference topic reference" role="article" aria-labelledby="ariaid-title1">
    <h1 class="- topic/title title topictitle1" id="ariaid-title1">Required firewall network rules for UDR</h1>
    
    <div class="- topic/body reference/refbody body refbody"><p class="- topic/shortdesc shortdesc">Setting up User Defined Routing in the Azure firewall requires adding certain rules
        regarding the service tag and FQDN network.</p>
        <section class="- topic/section section">
            <p class="- topic/p p">When setting up User Defined Routing (UDR) in the Azure firewall, it is important to
                configure the specific service tag and FQDN network rules.</p>
            <div class="- topic/p p">
                <div class="- topic/note note note note_note"><span class="note__title">Note:</span> <div class="note__body">The service tag and FQDN rules are specifically for Azure firewalls and do not
                    apply to third-party firewalls.</div></div>
            </div>
        </section>
        <section class="- topic/section section"><h2 class="- topic/title title sectiontitle">Service tag rules</h2>
            
            <div class="- topic/p p">
                <div class="table-container"><table class="- topic/table table frame-all" data-cols="4"><caption><span class="- topic/desc desc tabledesc">The following table describes the required service tag rules to configure
                        in the Azure firewall.</span></caption><colgroup><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/></colgroup><thead class="- topic/thead thead">
                            <tr class="- topic/row">
                                <th class="- topic/entry entry colsep-1 rowsep-1" id="azr_req_fw_network_rules_udr__entry__1">Rule name</th>
                                <th class="- topic/entry entry colsep-1 rowsep-1" id="azr_req_fw_network_rules_udr__entry__2">Port/Protocol</th>
                                <th class="- topic/entry entry colsep-1 rowsep-1" id="azr_req_fw_network_rules_udr__entry__3">Source</th>
                                <th class="- topic/entry entry colsep-0 rowsep-1" id="azr_req_fw_network_rules_udr__entry__4">Service tag</th>
                            </tr>
                        </thead><tbody class="- topic/tbody tbody">
                            <tr class="- topic/row">
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__1">allow_az_cloud_udp</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__2">1194/UDP</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__3">IP addresses of the Exocompute subnet</td>
                                <td class="- topic/entry entry colsep-0 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__4">AzureCloud.&lt;region&gt;</td>
                            </tr>
                            <tr class="- topic/row">
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__1">allow_az_cloud_tcp</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__2">9000/TCP</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__3">IP addresses of the Exocompute subnet</td>
                                <td class="- topic/entry entry colsep-0 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__4">AzureCloud.&lt;region&gt;</td>
                            </tr>
                            <tr class="- topic/row">
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__1">allow_storage</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__2">443/TCP</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__3">IP addresses of the Exocompute subnet</td>
                                <td class="- topic/entry entry colsep-0 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__4">Storage</td>
                            </tr>
                            <tr class="- topic/row">
                                <td class="- topic/entry entry colsep-1 rowsep-0" headers="azr_req_fw_network_rules_udr__entry__1">allow_acr</td>
                                <td class="- topic/entry entry colsep-1 rowsep-0" headers="azr_req_fw_network_rules_udr__entry__2">443/TCP</td>
                                <td class="- topic/entry entry colsep-1 rowsep-0" headers="azr_req_fw_network_rules_udr__entry__3">IP addresses of the Exocompute subnet</td>
                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="azr_req_fw_network_rules_udr__entry__4">AzureContainerRegistry</td>
                            </tr>
                        </tbody></table></div>
            </div>
            <div class="- topic/p p">It is imperative to review the following key considerations when configuring the
                service tag rules:<ul class="- topic/ul ul">
                    <li class="- topic/li li">Third-party firewall IP address requirements: When using a third-party
                        firewall and opting not to use service tags required by Rubrik, it is
                        important to explicitly include the destination IP addresses associated with
                        these service tags in the allowlist. The <cite class="- topic/cite cite">Configure rules to access an
                            Azure container registry behind a firewall</cite> topic in the Microsoft
                        Azure documentation provides more information about the IP addresses for a
                        specific region.</li>
                    <li class="- topic/li li">Private endpoint utilization: You can configure private endpoints to route
                        data plane traffic directly through the Microsoft Azure backbone network,
                        bypassing the firewall for storage account traffic.</li>
                    <li class="- topic/li li">UDR and egress traffic configuration: <span class="- topic/ph ph">RSC</span> configures
                        additional default service tags based on Microsoft recommendations. Using
                        UDR requires configuring the route table to direct egress traffic from your
                        egress cluster to the internet. This requires configuring Azure Firewall or
                        a third-party firewall on the Exocompute VNet. When you use Azure Firewall,
                        Microsoft requires adding the IP addresses associated with these specific
                        service tags to the allowlist. This ensures that the VNet can communicate
                        with necessary services for its operations. The <cite class="- topic/cite cite">Limit network traffic
                            with Azure Firewall in Azure Kubernetes Service (AKS)</cite> topic in
                        the Microsoft Azure documentation provides more information about
                        controlling egress traffic using Azure Firewall in AKS.</li>
                </ul></div>
            <div class="- topic/p p">Sample commands to configure the service tag rules are as follows:<ul class="- topic/ul ul">
                    <li class="- topic/li li">allow_az_cloud_udp:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>
az network firewall network-rule create 
--resource-group $RG \
--firewall-name $FWNAME \
--collection-name 'aksfwnr' \
--name 'allow_az_cloud_udp' \
--protocols 'UDP' \
--source-addresses '&lt;subnet IP 1&gt;' '&lt;subnet IP 2&gt;' '&lt;subnet IP n&gt; \
--destination-addresses 'AzureCloud.&lt;region&gt;' \
--destination-ports 1194 \
--action allow \
--priority 100
</code></pre></li>
                    <li class="- topic/li li">allow_az_cloud_tcp:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>
az network firewall network-rule create 
--resource-group $RG \
--firewall-name $FWNAME \
--collection-name 'aksfwnr' \
--name 'allow_az_cloud_tcp' \
--protocols 'TCP' \
--source-addresses '&lt;subnet IP 1&gt;' '&lt;subnet IP 2&gt;' '&lt;subnet IP n&gt; \
--destination-addresses 'AzureCloud.&lt;region&gt;' \
--destination-ports 9000 \
--action allow \
--priority 100</code></pre></li>
                    <li class="- topic/li li">allow_storage:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>
az network firewall network-rule create \
  --resource-group $RG \
  --firewall-name $FWNAME \
  --collection-name 'aksfwnr' \
  --name 'allow_storage' \
  --protocols 'TCP' \
  --source-addresses '&lt;subnet IP 1&gt;' '&lt;subnet IP 2&gt;' \
  --destination-addresses 'Storage' \
  --destination-ports 443 \
  --action allow \
  --priority 100
</code></pre></li>
                    <li class="- topic/li li">allow_acr:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>
az network firewall network-rule create \
  --resource-group $RG \
  --firewall-name $FWNAME \
  --collection-name 'aksfwnr' \
  --name 'allow_acr' \
  --protocols 'TCP' \
  --source-addresses '&lt;subnet IP 1&gt;' '&lt;subnet IP 2&gt;' \
  --destination-addresses 'AzureContainerRegistry' \
  --destination-ports 443 \
  --action allow \
  --priority 100
</code></pre></li>
                </ul></div>
        </section>
        <section class="- topic/section section"><h2 class="- topic/title title sectiontitle">FQDN rules</h2>
            
            <div class="- topic/p p">
                <div class="table-container"><table class="- topic/table table frame-all" data-cols="4"><caption><span class="- topic/desc desc tabledesc">The following table describes the required FQDN rules to configure in the
                        Azure firewall:</span></caption><colgroup><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/><col style="width:25%"/></colgroup><thead class="- topic/thead thead">
                            <tr class="- topic/row">
                                <th class="- topic/entry entry colsep-1 rowsep-1" id="azr_req_fw_network_rules_udr__entry__21">Rule name</th>
                                <th class="- topic/entry entry colsep-1 rowsep-1" id="azr_req_fw_network_rules_udr__entry__22">Port/Protocol</th>
                                <th class="- topic/entry entry colsep-1 rowsep-1" id="azr_req_fw_network_rules_udr__entry__23">Source</th>
                                <th class="- topic/entry entry colsep-0 rowsep-1" id="azr_req_fw_network_rules_udr__entry__24">Destination FQDN</th>
                            </tr>
                        </thead><tbody class="- topic/tbody tbody">
                            <tr class="- topic/row">
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__21">allow_time</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__22">123/UDP</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__23">IP addresses of the Exocompute subnet</td>
                                <td class="- topic/entry entry colsep-0 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__24">ntp.ubuntu.com</td>
                            </tr>
                            <tr class="- topic/row">
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__21">allow_rsc</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__22">443/TCP</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__23">IP addresses of the Exocompute subnet</td>
                                <td class="- topic/entry entry colsep-0 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__24">&lt;account&gt;.my.rubrk-lab.com</td>
                            </tr>
                            <tr class="- topic/row">
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__21">allow_gcs</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__22">443/TCP</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__23">IP addresses of the Exocompute subnet</td>
                                <td class="- topic/entry entry colsep-0 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__24">storage.googleapis.com</td>
                            </tr>
                            <tr class="- topic/row">
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__21">allow_oauth</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__22">443/TCP</td>
                                <td class="- topic/entry entry colsep-1 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__23">IP addresses of the Exocompute subnet</td>
                                <td class="- topic/entry entry colsep-0 rowsep-1" headers="azr_req_fw_network_rules_udr__entry__24">oauth2.googleapis.com</td>
                            </tr>
                            <tr class="- topic/row">
                                <td class="- topic/entry entry colsep-1 rowsep-0" headers="azr_req_fw_network_rules_udr__entry__21">allow_cloudslab</td>
                                <td class="- topic/entry entry colsep-1 rowsep-0" headers="azr_req_fw_network_rules_udr__entry__22">443/TCP</td>
                                <td class="- topic/entry entry colsep-1 rowsep-0" headers="azr_req_fw_network_rules_udr__entry__23">IP addresses of the Exocompute subnet</td>
                                <td class="- topic/entry entry colsep-0 rowsep-0" headers="azr_req_fw_network_rules_udr__entry__24">Metadata Store DNS<p class="- topic/p p">This rule is required only for Azure
                                        Blob support.</p><p class="- topic/p p">You can obtain the FQDN from the
                                        Metadata Store DNS column. If the Metadata Store DNS column
                                        is not visible in the Subscriptions tab, you can use the
                                        Column setting icon to add and view the column in the
                                        Subscriptions tab.</p></td>
                            </tr>
                        </tbody></table></div>
            </div>
            <div class="- topic/p p">Sample commands to configure the FQDN rules are as follows:<ul class="- topic/ul ul">
                    <li class="- topic/li li">allow_time rule:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>
az network firewall network-rule create \
  --resource-group $RG \
  --firewall-name $FWNAME \
  --collection-name 'aksfwnr' \
  --name 'allow_time' \
  --protocols 'UDP' \
  --source-addresses '&lt;subnet IP 1&gt;' '&lt;subnet IP 2&gt;' '&lt;subnet IP n&gt;' \
  --destination-fqdns 'ntp.ubuntu.com' \
  --destination-ports '123'\
  --action allow
</code></pre></li>
                    <li class="- topic/li li">allow_rsc rule:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>
az network firewall network-rule create \
  --resource-group $RG \
  --firewall-name $FWNAME \
  --collection-name 'aksfwnr' \
  --name 'allow_rsc' \
  --protocols 'TCP' \
  --source-addresses '&lt;subnet IP 1&gt;' '&lt;subnet IP 2&gt;' '&lt;subnet IP n&gt;' \
  --destination-fqdns '&lt;account&gt;.my.rubrk-lab.com' \
  --destination-ports '443'\
  --action allow

</code></pre></li>
                    <li class="- topic/li li">allow_gcs rule:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>
az network firewall network-rule create \
  --resource-group $RG \
  --firewall-name $FWNAME \
  --collection-name 'aksfwnr' \
  --name 'allow_gcs' \
  --protocols 'TCP' \
  --source-addresses '&lt;subnet IP 1&gt;' '&lt;subnet IP 2&gt;' '&lt;subnet IP n&gt;' \
  --destination-fqdns 'storage.googleapis.com' \
  --destination-ports '443'\
  --action allow
</code></pre></li>
                    <li class="- topic/li li">allow_oauth rule:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>
az network firewall network-rule create \
  --resource-group $RG \
  --firewall-name $FWNAME \
  --collection-name 'aksfwnr' \
  --name 'allow_oauth' \
  --protocols 'TCP' \
  --source-addresses '&lt;subnet IP 1&gt;' '&lt;subnet IP 2&gt;' '&lt;subnet IP n&gt;' \
  --destination-fqdns 'oauth2.googleapis.com' \
  --destination-ports '443'\
  --action allow
</code></pre></li>
                    <li class="- topic/li li">allow_cloudslab rule:<pre class="+ topic/pre pr-d/codeblock pre codeblock" id="azr_req_fw_network_rules_udr__codeblock_c2b_hg4_1fc" data-ofbid="azr_req_fw_network_rules_udr__codeblock_c2b_hg4_1fc"><code>
az network firewall network-rule create \
  --resource-group $RG \
  --firewall-name $FWNAME \
  --collection-name 'aksfwnr' \
  --name 'allow_cloudslab' \
  --protocols 'TCP' \
  --source-addresses '&lt;subnet IP 1&gt;' '&lt;subnet IP 2&gt;' '&lt;subnet IP n&gt;' \
  --destination-fqdns '&lt;CloudSlab FQDN&gt;' \
  --destination-ports '443'\
  --action allow
</code></pre></li>
                </ul></div>
        </section>
        <section class="- topic/section section"><h2 class="- topic/title title sectiontitle">Additional information for third-party firewalls</h2>
            
            <div class="- topic/p p">When using a third-party firewall, in the allowlist, it is important to include a
                wildcard set of storage accounts and specific container registry addresses as follows:<ul class="- topic/ul ul">
                    <li class="- topic/li li">Storage accounts: <kbd class="+ topic/ph sw-d/userinput ph userinput">*.blob.core.windows.net</kbd></li>
                    <li class="- topic/li li">Rubrik-hosted ACR: <kbd class="+ topic/ph sw-d/userinput ph userinput">centralacrprod.azurecr.io</kbd></li>
                    <li class="- topic/li li">Microsoft-hosted ACR: <kbd class="+ topic/ph sw-d/userinput ph userinput">mcr.microsoft.com</kbd> and
                            <kbd class="+ topic/ph sw-d/userinput ph userinput">data.mcr.microsoft.com</kbd></li>
                </ul></div>
        </section>
    </div>
    
    
</article></main></div>
                        
                        
                        <div class=" wh_related_links d-print-none "><nav aria-label="Related Links" role="navigation" class="- topic/related-links related-links"><div class="- topic/linklist linklist relconcepts"><strong>Related concepts</strong><ul class="linklist related_link"><li class="linklist"><a class="- topic/link link navheader_parent_path" href="azr_private_service_endpoints_usage_archival.html" title="You can reduce data transfer costs by tiering snapshots to an Azure storage account by using Azure private or service endpoints.">Private and service endpoints usage for Azure storage tiering</a><div class="- topic/desc desc">You can reduce data transfer costs by tiering snapshots to an Azure storage account         by using Azure private or service endpoints.</div></li></ul></div><div class="- topic/linklist linklist reltasks"><strong>Related tasks</strong><ul class="linklist related_link"><li class="linklist"><a class="- topic/link link navheader_parent_path" href="azr_configuring_udr_fw.html" title="Configure User Defined Routing for Azure Kubernetes Service clusters to manage outbound traffic through an Azure firewall. This setup ensures compliance with Azure policies by routing traffic through defined routes, eliminating the need for public IP addresses for AKS nodes.">Configuring User Defined Routing with Azure firewall</a><div class="- topic/desc desc">Configure User Defined Routing for Azure Kubernetes Service clusters to manage         outbound traffic through an Azure firewall. This setup ensures compliance with Azure         policies by routing traffic through defined routes, eliminating the need for public IP         addresses for AKS nodes.</div></li><li class="linklist"><a class="- topic/link link navheader_parent_path" href="../azure_blob/azr_blb_strg_retrieving_fqdn_url_windows.html" title="Retrieve the necessary IP address to add to the allowlist, using the URL in the Metadata Store DNS column associated with an Azure Blob storage account on Windows OS.">Retrieving FQDN with Azure Blob storage URL on Windows OS</a><div class="- topic/desc desc">Retrieve the necessary IP address to add to the allowlist, using the URL in the         Metadata Store DNS column associated with an Azure Blob storage account on Windows         OS.</div></li><li class="linklist"><a class="- topic/link link navheader_parent_path" href="../azure_blob/azr_blb_strg_retrieving_fqdn_url_maclinx.html" title="Retrieve the necessary IP address to add to the allowlist, using the URL in the Metadata Store DNS column associated with an Azure Blob storage account on macOS or Linux.">Retrieving FQDN with Azure Blob storage URL on macOS or Linux</a><div class="- topic/desc desc">Retrieve the necessary IP address to add to the allowlist, using the URL in the         Metadata Store DNS column associated with an Azure Blob storage account on macOS or         Linux.</div></li></ul></div><div class="- topic/linklist linklist relref"><strong>Related reference</strong><ul class="linklist related_link"><li class="linklist"><a class="- topic/link link navheader_parent_path" href="azr_excom_firewall_config.html" title="Information about the endpoints you can add to the firewall allowlist to enable Exocompute on Azure to perform archiving and indexing operations.">Firewall configuration for Exocompute on Azure</a><div class="- topic/desc desc">Information about the endpoints you can add to the firewall allowlist to enable         Exocompute on Azure to perform archiving and indexing operations.</div></li></ul></div><div class="- topic/linklist linklist relinfo"><strong>Related information</strong><ul class="linklist related_link"><li class="linklist"><a class="- topic/link link navheader_parent_path" href="https://learn.microsoft.com/en-us/azure/container-registry/container-registry-firewall-access-rules#allow-access-by-ip-address-range." target="_blank" rel="external noopener" title="https://learn.microsoft.com/en-us/azure/container-registry/container-registry-firewall-access-rules#allow-access-by-ip-address-range.">https://learn.microsoft.com/en-us/azure/container-registry/container-registry-firewall-access-rules#allow-access-by-ip-address-range.</a></li><li class="linklist"><a class="- topic/link link navheader_parent_path" href="https://learn.microsoft.com/en-gb/azure/aks/limit-egress-traffic?tabs=aks-with-system-assigned-identities" target="_blank" rel="external noopener" title="https://learn.microsoft.com/en-gb/azure/aks/limit-egress-traffic?tabs=aks-with-system-assigned-identities">https://learn.microsoft.com/en-gb/azure/aks/limit-egress-traffic?tabs=aks-with-system-assigned-identities</a></li></ul></div></nav></div>
                        
                        
                        
                    </div>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
    
        <title>footer</title>
    
        <div class="footer">
            <ul class="footernav">
                <li>
                    <a href="https://support.rubrik.com/" target="_blank">Support</a>
                </li>
                <li>|</li>
                <li>
                    <a href="https://www.rubrik.com/legal" target="_blank">Legal</a>
                </li>
                <li>|</li>
                <li>
                    <a href="https://www.rubrik.com/legal/privacy-policy" target="_blank">Privacy Policy</a>
                </li>
                <li>|</li>
                <li>
                    <a href="https://www.rubrik.com/legal/terms-of-use" target="_blank">Terms of Use</a>
                </li>
                <li>|</li>
                <li>
                    <a href="https://www.rubrik.com/legal/cookie-policy" target="_blank">Cookie Policy</a>
                </li>
                <li>|</li>
                <li>
                    <a href="https://www.rubrik.com/trust" target="_blank">Trust</a>
                </li>
            </ul>
        </div>
        <div class="footer">
            <ul class="footernav">
                <li>
                    CA Residents only: <a href="https://www.rubrik.com/legal/privacy-request" target="_blank">Do not sell or share my personal information</a>
                </li>
                <li>|</li>
                <li>
                    <a href="https://www.rubrik.com/legal/privacy-request" target="_blank">Do not share my sensitive information</a>
                </li>
            </ul>
        </div>
        <div class="footer">
            <script type="text/javascript">
<!--
            var generated = new Date(document.lastModified);
            var day = generated.getDate();
            var month = generated.getMonth() + 1;
            var year = generated.getFullYear();
            document.write("Generated on: " + year + '/' + (month <= 9 ? '0' + month: month) + '/' + (day <= 9 ? '0' + day: day));// --></script>
        </div>
        <div class="footer">Copyright  Rubrik - Zero Trust Data
            Security</div>
    
  </div>
</footer>
        
        <button id="go2top" class="d-print-none" title="Go to top">
            <span class="oxy-icon oxy-icon-up"></span>
        </button>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>